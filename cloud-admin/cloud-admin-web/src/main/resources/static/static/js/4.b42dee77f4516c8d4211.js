webpackJsonp([4],{"0gzi":function(e,t){},SGAJ:function(e,t){},fnGs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("NRBp");var s={props:{editableTabs:{type:Array,default:function(){return[]}}},components:{},data:function(){return{editableTabsValue:"1"}},computed:{activeIndex:{get:function(){return this.$store.state.activeIndex},set:function(e){this.$store.dispatch("setAction",e)}}},watch:{"$store.state.activeIndex":{handler:function(e){this.editableTabsValue=e},deep:!0,immediate:!0}},mounted:function(){},methods:{tabClick:function(e){this.$emit("changeMenu",e.name)},removeTab:function(e){this.$store.dispatch("deleteAction",e);var t=localStorage.getItem("activeIndex");e===t&&this.$emit("closeTab",t)}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab,"tab-click":e.tabClick},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.name,name:e.route}})}),1)},staticRenderFns:[]};a("VU/8")(s,o,!1,function(e){a("SGAJ")},"data-v-619f5286",null).exports,a("FkTg");var n=a("xR4V"),i=a("WLxJ"),l=(a("nRL5"),a("2uFj"),{name:"app",data:function(){return{topIndex:this.$route.name,isTabShow:!1,needTagsView:!0,isCollapse:!0,updatePasswordVisible:!1,menus:[],menuList:[],allRole:[],cardOption:[],deptOption:[],genderOption:[],nationOption:[],educationOption:[],politicalStatusOption:[],loginInfo:{},myInfo:{},updatePasswordFormData:{}}},mounted:function(){this.getModules(),this.getPersonInfos()},computed:{},methods:{getPersonInfos:function(){var e=this;Object(n.d)({}).then(function(t){var a=t.value;a&&"0000"==a.code&&(e.loginInfo=a.data)})},getModules:function(){var e=this;Object(n.b)({menuId:"",menuName:"",sysCode:""}).then(function(t){if(t.value&&"0000"==t.value.code){var a=t.value.data,s=[];for(var o in a)0===a[o].parentId&&s.push(a[o]);e.menus=s}})},goHome:function(){this.$router.push({path:"/bigdata"})},exit:function(){var e=this;Object(n.g)().then(function(t){t&&"1100"==t.code?(Object(i.a)(),e.$router.push({name:"login"})):e.$message.error(t.message)})},updateUserPassword:function(){this.updatePasswordVisible=!0},saveNewPwd:function(){if(this.updatePasswordFormData){var e=this;Object(n.a)(this.updatePasswordFormData).then(function(t){t&&"200"===t.code&&e.exit()})}},cancel:function(e){this.updatePasswordVisible=!1,"myInfo"===e&&this.$refs[e].resetFields()}}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"moduleWrapper"},[a("el-header",{staticClass:"header",attrs:{height:"60px"}},[a("div",{staticClass:"title",on:{click:e.goHome}},[a("div",{staticClass:"huiZhang"}),e._v(" "),a("div",[e._v("南泥湾采油厂")])]),e._v(" "),a("el-menu",{staticClass:"topMenu",attrs:{"default-active":e.topIndex,mode:"horizontal","text-color":"#fff","background-color":"#CF1F00","active-text-color":"#ffd04b",router:""}},[e._l(e.menus,function(t,s){return a("el-menu-item",{key:s,attrs:{index:t.menuHref}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.menuName))])])}),e._v(" "),a("el-menu-item",{attrs:{index:"/setting"}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("系统设置")])]),e._v(" "),a("el-submenu",{staticClass:"personal-center",attrs:{index:"/person"}},[a("template",{slot:"title"},[a("span",{staticClass:"nickName"},[e._v(e._s(e.loginInfo.loginName))])]),e._v(" "),a("el-menu-item",{on:{click:e.updateUserPassword}},[e._v("修改密码")]),e._v(" "),a("el-menu-item",{on:{click:e.exit}},[e._v("退出登录")])],2)],2)],1),e._v(" "),a("el-main",{staticClass:"main"},[a("router-view")],1),e._v(" "),a("el-dialog",{staticClass:"passWordDialog",attrs:{title:"修改密码",visible:e.updatePasswordVisible,"before-close":e.cancel},on:{"update:visible":function(t){e.updatePasswordVisible=t}}},[a("el-form",{attrs:{"label-position":"right","label-width":"90px",model:e.updatePasswordFormData,size:"small"}},[a("el-form-item",{attrs:{label:"当前密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入当前密码"},model:{value:e.updatePasswordFormData.oldPassword,callback:function(t){e.$set(e.updatePasswordFormData,"oldPassword",t)},expression:"updatePasswordFormData.oldPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.updatePasswordFormData.newPassword,callback:function(t){e.$set(e.updatePasswordFormData,"newPassword",t)},expression:"updatePasswordFormData.newPassword"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveNewPwd}},[e._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(l,r,!1,function(e){a("0gzi")},"data-v-6d606225",null);t.default=d.exports}});
//# sourceMappingURL=4.b42dee77f4516c8d4211.js.map